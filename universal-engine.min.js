!function(){const e="1.0",t=e=>document.querySelector(e),n=e=>[...document.querySelectorAll(e)];function o(...e){console.log("[UE]",...e)}function r(e){return e?"INPUT"===e.tagName?e.value.trim():"SELECT"===e.tagName?e.value.trim():"":""}function c(){let e=0,t=0;return n(".q").forEach(n=>{const o=(n.dataset.answer||"").trim(),c=n.querySelector("input,select");if(!c)return;const i=r(c);i&&(t++,i===o?(e++,n.classList.add("correct"),n.classList.remove("incorrect")):(n.classList.add("incorrect"),n.classList.remove("correct")))}),{score:e,total:t}}function i(){const e=t(".q");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}function s(){const e=t("#submitAll"),o=t("#clearAll"),r=t("#goTest");e&&e.addEventListener("click",(()=>{const{score:e,total:t}=c();!function(e,t){const n=t("#score");n&&(n.textContent=`${e}/${t}`)}(e,t),function(e,t){try{"function"==typeof sendState&&sendState({score:e,total:t,feedback:`You scored ${e} out of ${t}`})}catch(e){o("SLS send error",e)}}(e,t)})),o&&o.addEventListener("click",(()=>{n(".q").forEach(e=>{e.classList.remove("correct","incorrect")})})),r&&r.addEventListener("click",(()=>{i()}))}document.addEventListener("DOMContentLoaded",(function(){o("Universal Engine loaded v"+e),s()})),window.UniversalEngine={init:s}}();

